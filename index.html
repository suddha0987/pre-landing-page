<!-- Temporary Button for SMTP Test -->
<button id="vkTestBtn" style="padding:10px 20px; font-size:16px; margin:20px;">Test ValidKit SMTP</button>

<script>
document.getElementById('vkTestBtn').addEventListener('click', async () => {
  const testEmail = prompt("Enter test email:", "boldflikz@gmail.com");
  if(!testEmail) return;

  const apiKey = "vk_prod_866c21581ca3741f989ace2c"; // Temporary for testing only

  try {
    const res = await fetch(`https://api.validkit.io/v1/verify/email?email=${encodeURIComponent(testEmail)}`, {
      headers: { Authorization: `Bearer ${apiKey}` }
    });

    if(res.status !== 200) {
      alert("Error: HTTP status " + res.status);
      return;
    }

    const data = await res.json();
    console.log("Full response:", data);

    if(data?.result) {
      alert(
        `✅ SMTP: ${data.result.smtp}\n` +
        `✅ Valid: ${data.result.valid}\n` +
        `✅ Format: ${data.result.format}`
      );
    } else {
      alert("No result returned. Check console.");
    }

  } catch(err) {
    console.error("Fetch error:", err);
    alert("Error occurred. Check console.");
  }
});
</script>
